<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Apply — Online Teacher Recruitment</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: Arial, sans-serif; background: #f6f7fb; color:#111; }
    .container { max-width: 980px; margin: 36px auto; padding: 28px; background: white; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.06);}
    form { display:grid; grid-template-columns: 1fr 1fr; gap:14px; }
    .full { grid-column: 1 / -1; }
    label { display:block; font-size:13px; margin-bottom:6px; color:#0f172a; }
    input, select, textarea {
      width:100%; padding:10px 12px; border:1px solid #cbd5e1; border-radius:8px; font-size:14px; background:#fff;
    }
    textarea { min-height:120px; resize:vertical; }
    .btn { padding:10px 16px; border-radius:10px; background:#0ea5e9; color:white; font-weight:600; border:0; cursor:pointer; }
    .btn.secondary { background:#94a3b8; }
    .status { padding:10px 12px; border-radius:8px; margin-top:8px; display:none; }
    .status.success { background:#ecfdf5; color:#065f46; border:1px solid #bbf7d0; display:block; }
    .status.error { background:#fff7f7; color:#7f1d1d; border:1px solid #fecaca; display:block; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Recruit Online Teachers</h1>

    <form id="applicationForm" novalidate>
      <div>
        <label>Full name *</label>
        <input name="fullName" type="text" required>

        <label style="margin-top:12px;">Email *</label>
        <input name="email" type="email" required>

        <label style="margin-top:12px;">Phone number *</label>
        <input name="phone" type="tel" required>

        <label style="margin-top:12px;">School graduated from *</label>
        <select id="schoolType" name="schoolType" required>
          <option value="">Select school type</option>
          <option value="University">University</option>
          <option value="Polytechnic">Polytechnic</option>
          <option value="College of Education">College of Education</option>
          <option value="Other">Other</option>
        </select>
        <input id="otherSchool" name="otherSchool" type="text" placeholder="Specify other school" style="margin-top:8px; display:none;">

        <label style="margin-top:12px;">Degree grade *</label>
        <select id="grade" name="grade" required>
          <option value="">Select grade</option>
        </select>
      </div>

      <div>
        <label>Subjects you can teach *</label>
        <select id="subjects" name="subjects" multiple required>
          <option value="Mathematics">Mathematics</option>
          <option value="Physics">Physics</option>
          <option value="Engineering">Engineering</option>
          <option value="Other">Other</option>
        </select>
        <input id="otherSubject" name="otherSubject" type="text" placeholder="Specify other subject" style="margin-top:8px; display:none;">

        <label style="margin-top:12px;">Hourly rate (₦) *</label>
        <input name="hourlyRate" type="number" min="2000" max="4000" step="100" required>

        <label style="margin-top:12px;">Highest qualification *</label>
        <select name="qualification" required>
          <option value="">Select qualification</option>
          <option>PhD</option>
          <option>Masters</option>
          <option>Bachelors</option>
          <option>HND / Diploma</option>
          <option>Professional Certificate</option>
          <option>Other</option>
        </select>

        <label style="margin-top:12px;">Years of teaching experience *</label>
        <input name="experience" type="number" min="0" required>
      </div>

      <div class="full">
        <label>Availability (days & times) *</label>
        <input name="availability" type="text" required>

        <label style="margin-top:12px;">Languages spoken</label>
        <input name="language" type="text">

        <label style="margin-top:12px;">Short bio / teaching approach *</label>
        <textarea name="bio" required></textarea>

        <div style="margin-top:12px;">
          <button class="btn" type="submit">Submit application</button>
          <button class="btn secondary" type="button" id="clearBtn">Clear form</button>
        </div>

        <div id="statusMessage" class="status"></div>
      </div>
    </form>
  </div>

  <script>
    const FORMSPREE_URL = 'https://formspree.io/f/mvgqwywl';
    const form = document.getElementById('applicationForm');
    const status = document.getElementById('statusMessage');
    const subjectsSelect = document.getElementById('subjects');
    const otherSubjectInput = document.getElementById('otherSubject');
    const schoolSelect = document.getElementById('schoolType');
    const otherSchoolInput = document.getElementById('otherSchool');
    const gradeSelect = document.getElementById('grade');

    const gradesBySchool = {
      University: ["First Class", "Second Class Upper", "Second Class Lower", "Third Class"],
      Polytechnic: ["Distinction", "Upper Credit", "Lower Credit", "Pass"],
      "College of Education": ["Distinction", "Credit", "Pass"],
      Other: []
    };

    schoolSelect.addEventListener('change', () => {
      otherSchoolInput.style.display = schoolSelect.value === 'Other' ? 'block' : 'none';
      gradeSelect.innerHTML = '<option value="">Select grade</option>';
      if (gradesBySchool[schoolSelect.value]) {
        gradesBySchool[schoolSelect.value].forEach(g => {
          const opt = document.createElement('option');
          opt.value = g;
          opt.textContent = g;
          gradeSelect.appendChild(opt);
        });
      }
    });

    subjectsSelect.addEventListener('change', () => {
      const selected = Array.from(subjectsSelect.selectedOptions).map(o => o.value);
      otherSubjectInput.style.display = selected.includes('Other') ? 'block' : 'none';
    });

    function showStatus(message, type='success') {
      status.textContent = message;
      status.className = 'status ' + (type === 'error' ? 'error' : 'success');
    }

    function clearStatus() {
      status.style.display = 'none';
      status.textContent = '';
    }

    form.addEventListener('submit', async (ev) => {
      ev.preventDefault();
      clearStatus();

      const required = form.querySelectorAll('[required]');
      for (const el of required) {
        if (!el.value) { el.focus(); showStatus('Please fill all required fields.', 'error'); return; }
      }

      const formData = new FormData(form);
      formData.set('subjects', Array.from(subjectsSelect.selectedOptions).map(o => o.value).join(', '));

      try {
        const resp = await fetch(FORMSPREE_URL, { method: 'POST', body: formData });
        if (resp.ok) {
          showStatus('Application submitted successfully.', 'success');
          form.reset();
          otherSubjectInput.style.display = 'none';
          otherSchoolInput.style.display = 'none';
          gradeSelect.innerHTML = '<option value="">Select grade</option>';
        } else {
          showStatus('Submission failed. Try again later.', 'error');
        }
      } catch {
        showStatus('Network error. Check your connection.', 'error');
      }
    });

    document.getElementById('clearBtn').addEventListener('click', () => {
      form.reset();
      clearStatus();
      otherSubjectInput.style.display = 'none';
      otherSchoolInput.style.display = 'none';
      gradeSelect.innerHTML = '<option value="">Select grade</option>';
    });
  </script>
</body>
</html>
